<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.335">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Module 3">

<title>VLab5 Course - Lesson 3.1 â€” Global Tuna Atlas datasets and workflow architecture</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<style>html{ scroll-behavior: smooth; }</style>


</head>

<body class="nav-sidebar docked nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">VLab5 Course</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-global-tuna-atlas--vlab5" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Global Tuna Atlas &amp; VLab5</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-global-tuna-atlas--vlab5">    
        <li>
    <a class="dropdown-item" href="./first_draft_Datasets&amp;WorkflowArchitecture.html">
 <span class="dropdown-text">Lesson 3.1 â€” Intro to Global Tuna Atlas</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./lesson-3-5-overview.html">
 <span class="dropdown-text">Lesson 3.2 â€” Running R Workflows in VLab5</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./exploring-global-tuna-atlas-data-via-shiny.html">
 <span class="dropdown-text">Lesson 3.3 â€” Exploring GTA data via Shiny</span></a>
  </li>  
    </ul>
  </li>
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title">Lesson 3.1 â€” Global Tuna Atlas datasets and workflow architecture</h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation docked overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./first_draft_Datasets&amp;WorkflowArchitecture.html" class="sidebar-item-text sidebar-link active">Lesson 3.1 â€” Intro to Global Tuna Atlas</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./first_draft_Datasets&amp;WorkflowArchitecture.html" class="sidebar-item-text sidebar-link active">Lesson 3.1 â€” Global Tuna Atlas datasets and workflow architecture</a>
  </div>
</li>
          <li class="sidebar-item">
  workflow-architecture.qmd
  </li>
          <li class="sidebar-item">
  role-of-cwp-standards.qmd
  </li>
          <li class="sidebar-item">
  reproductibility.qmd
  </li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./lesson-3-5-overview.html" class="sidebar-item-text sidebar-link">Lesson 3.2 â€” Running R Workflows in VLab5</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lesson-3-5-overview.html" class="sidebar-item-text sidebar-link">Overview</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro-rstudio.html" class="sidebar-item-text sidebar-link">Introduction to VLab5 and RStudio Server</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./project-organization.html" class="sidebar-item-text sidebar-link">Project organization</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./running-scripts-in-loaded-repo.html" class="sidebar-item-text sidebar-link">Running Rscripts in a loaded project</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./renv-cache-path.html" class="sidebar-item-text sidebar-link">Bonus Personal renv cache on RStudio Server (BlueCloud 2026 infrastructure)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./deploy-repos-in-vlab-rstudioserver.html" class="sidebar-item-text sidebar-link">Bonus (Advanced): Deploy repositories in your own VLab</a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./exploring-global-tuna-atlas-data-via-shiny.html" class="sidebar-item-text sidebar-link">Lesson 3.3 â€” Exploring GTA data via Shiny</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./exploring-global-tuna-atlas-data-via-shiny.html" class="sidebar-item-text sidebar-link">Exploring Global Tuna Atlas Data via Shiny (15 min)</a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#objectives" id="toc-objectives" class="nav-link active" data-scroll-target="#objectives">ðŸŽ¯ Objectives</a></li>
  <li><a href="#overview-of-the-global-tuna-atlas-datasets-and-workflow-architecture" id="toc-overview-of-the-global-tuna-atlas-datasets-and-workflow-architecture" class="nav-link" data-scroll-target="#overview-of-the-global-tuna-atlas-datasets-and-workflow-architecture">Overview of the Global Tuna Atlas datasets and workflow architecture</a></li>
  <li><a href="#presentation-of-dataset-specificities" id="toc-presentation-of-dataset-specificities" class="nav-link" data-scroll-target="#presentation-of-dataset-specificities">Presentation of dataset specificities</a>
  <ul class="collapse">
  <li><a href="#nominal-catch-dataset-firms-level-0" id="toc-nominal-catch-dataset-firms-level-0" class="nav-link" data-scroll-target="#nominal-catch-dataset-firms-level-0">Nominal Catch Dataset (FIRMS Level 0)</a></li>
  <li><a href="#geo-referenced-catch-datasets" id="toc-geo-referenced-catch-datasets" class="nav-link" data-scroll-target="#geo-referenced-catch-datasets">Geo-referenced Catch Datasets</a>
  <ul class="collapse">
  <li><a href="#firms-level-0" id="toc-firms-level-0" class="nav-link" data-scroll-target="#firms-level-0">FIRMS Level 0</a></li>
  <li><a href="#ird-level-2" id="toc-ird-level-2" class="nav-link" data-scroll-target="#ird-level-2">IRD Level 2</a></li>
  </ul></li>
  <li><a href="#effort-dataset-ird-level-0" id="toc-effort-dataset-ird-level-0" class="nav-link" data-scroll-target="#effort-dataset-ird-level-0">Effort Dataset (IRD Level 0)</a></li>
  </ul></li>
  <li><a href="#cpue-code-and-derivation" id="toc-cpue-code-and-derivation" class="nav-link" data-scroll-target="#cpue-code-and-derivation">CPUE code and derivation</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block">Lesson 3.1 â€” Global Tuna Atlas datasets and workflow architecture</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Module 3 </p>
          </div>
  </div>
    
  
    
  </div>
  

</header>

<section id="objectives" class="level1">
<h1>ðŸŽ¯ Objectives</h1>
<p>By the end of this lesson, you should be able to:</p>
<ul>
<li>Distinguish nominal, geo-referenced, effort, and CPUE datasets.</li>
<li>Understand the GTA workflow architecture and reproducibility principles.</li>
<li>Recognize specificities and caveats for each dataset (e.g., raising rules, effort unit heterogeneity).</li>
<li>Locate the code and repositories to reproduce or customize GTA datasets.</li>
</ul>
</section>
<section id="overview-of-the-global-tuna-atlas-datasets-and-workflow-architecture" class="level1">
<h1>Overview of the Global Tuna Atlas datasets and workflow architecture</h1>
<p>The <strong>Global Tuna Atlas (GTA)</strong> integrates catch and effort data from all five tuna Regional Fisheries Management Organizations (t-RFMOs). The GTA workflows are designed to make tuna fisheries data FAIR (Findable, Accessible, Interoperable, and Reusable) and reproducible.</p>
<p>The workflow architecture includes:</p>
<ul>
<li><strong>Nominal catches</strong> (annual, aggregated by fleet, gear, species, large area).</li>
<li><strong>Geo-referenced catches</strong> (monthly, fine spatial resolution: 1Â° or 5Â°).</li>
<li><strong>Effort datasets</strong> (various measurement units, unaggregated to preserve semantics).</li>
<li><strong>Derived CPUE datasets</strong> (catch-per-unit-effort).</li>
</ul>
<p>Each dataset is produced using harmonized formats based on <a href="https://www.fao.org/3/cc6734en/cc6734en.pdf">CWP standards</a> and reproducible scripts available in the <a href="https://github.com/firms-gta/geoflow-tunaatlas">geoflow-tunaatlas repository for level 2 and efforts (IRD)</a> and <a href="https://github.com/firms-gta/geoflow-gta">geoflow-tunaatlas repository for level 0 (FIRMS)</a>.</p>
<hr>
</section>
<section id="presentation-of-dataset-specificities" class="level1">
<h1>Presentation of dataset specificities</h1>
<section id="nominal-catch-dataset-firms-level-0" class="level2">
<h2 class="anchored" data-anchor-id="nominal-catch-dataset-firms-level-0">Nominal Catch Dataset (FIRMS Level 0)</h2>
<ul>
<li><strong>Time span:</strong> 1918â€“2023.</li>
<li><strong>Content:</strong> Live-weight equivalent (metric tonnes), mainly retained catches.</li>
<li><strong>Stratification:</strong> Year, fleet, gear, large area, species.</li>
<li><strong>Use case:</strong> Benchmark of global tuna catch volumes.</li>
<li><strong>DOI:</strong> <a href="https://zenodo.org/doi/10.5281/zenodo.5745958">10.5281/zenodo.5745958</a>.</li>
</ul>
</section>
<section id="geo-referenced-catch-datasets" class="level2">
<h2 class="anchored" data-anchor-id="geo-referenced-catch-datasets">Geo-referenced Catch Datasets</h2>
<section id="firms-level-0" class="level3">
<h3 class="anchored" data-anchor-id="firms-level-0">FIRMS Level 0</h3>
<ul>
<li><strong>Time span:</strong> 1950â€“2023.</li>
<li><strong>Resolution:</strong> 1Â°/5Â° grid, monthly.</li>
<li><strong>Content:</strong> Catches from all t-RFMOs, harmonized.</li>
<li><strong>DOI:</strong> <a href="https://zenodo.org/doi/10.5281/zenodo.5747174">10.5281/zenodo.5747174</a>.</li>
</ul>
</section>
<section id="ird-level-2" class="level3">
<h3 class="anchored" data-anchor-id="ird-level-2">IRD Level 2</h3>
<ul>
<li>Further processed to align geo-referenced data with nominal totals.</li>
<li>Includes raising, updating of strata, and better handling of IATTC observer vs logbook data.</li>
<li><strong>Warning:</strong> Not suitable for quota/legality studies due to uncertainty in precise georeferencing.</li>
<li><strong>Code:</strong> Full workflow at <a href="https://github.com/firms-gta/geoflow-tunaatlas">geoflow-tunaatlas</a>.</li>
<li><strong>DOI:</strong> <a href="https://zenodo.org/doi/10.5281/zenodo.15496164">10.5281/zenodo.15496164</a>.</li>
</ul>
</section>
</section>
<section id="effort-dataset-ird-level-0" class="level2">
<h2 class="anchored" data-anchor-id="effort-dataset-ird-level-0">Effort Dataset (IRD Level 0)</h2>
<ul>
<li><strong>Time span:</strong> 1950â€“2023.</li>
<li><strong>Content:</strong> 23 different measurement units, no aggregation.</li>
<li><strong>Specificities:</strong> Duplicates exist (e.g., ICCAT Hours.FAD vs Hours.FSC; WCPFC SETS vs DAYS). End-users must harmonize depending on research needs.</li>
<li><strong>DOI:</strong> <a href="https://zenodo.org/doi/10.5281/zenodo.15496164">10.5281/zenodo.15496164</a>.</li>
</ul>
<hr>
</section>
</section>
<section id="cpue-code-and-derivation" class="level1">
<h1>CPUE code and derivation</h1>
<p>The <strong>CPUE dataset</strong> is derived by combining catch (Level 0 or 2) with effort (Level 0) on common strata.</p>
<p><strong>Formula:</strong></p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>CPUE <span class="ot">=</span> Catch <span class="sc">/</span> Effort </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>for each strata of datasets. It is to be noted that the some stratas are present in only one of the datasets, meaning they are incomplete as efforts could be without catches but catches shouldâ€™nt be displayed without efforts.</p>
<ul>
<li>The unit depends on the effort measure (e.g., mt / 1000 hooks).</li>
<li>Scripts in <a href="https://github.com/firms-gta/geoflow-tunaatlas">geoflow-tunaatlas</a> handle joining, raising, and outputting CPUE tables.</li>
<li>Outputs are saved in standardized CWP formats, ready for visualization or publication.</li>
</ul>
<hr>
<p>If you want to explore some of the CWP datasets, some .Rmd are available in the repos as well as shiny apps (later in the courses)</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "î§‹";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
    var links = window.document.querySelectorAll('a:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
          // default icon
          link.classList.add("external");
      }
    }
});
</script>
</div> <!-- /content -->



<script src="site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>