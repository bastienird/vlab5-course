---
title: "Introduction to VLab5 and RStudio Server"
author: "VLab Fisheries Atlas Course Team: Grasset Bastien, Barde Julien"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Getting Started with RStudio in VLab5

This short notebook will guide you through the key features and technical setup of the RStudio Server in VLab5.

### Launching the Environment

To begin working in VLab5 with R workflows, start by navigating to the [**Analytics**](https://blue-cloud.d4science.org/group/globalfisheriesatlas/analytics).
 section on the platform.

You have two main options to launch an RStudio session:

1. [**RStudio on D4Science (Start)**](https://blue-cloud.d4science.org/group/globalfisheriesatlas/rstudio-4-start) – This is the default environment. It includes all preloaded repositories you'll use in this course (both stable and dev versions). It has limited RAM compared to the second option.
2. [**RStudio on GoogleCloud (Start)**](https://blue-cloud.d4science.org/group/globalfisheriesatlas/start-rstudio-at-googlecloud) – This environment offers more RAM and computing power, which can be useful for heavier computations. However, it does *not* include the preloaded repositories by default. If you use it, you’ll need to manually configure and copy the necessary projects.

Once you launch either version, you’ll enter a standard **RStudio Server interface** directly in your browser.

RStudio is organized into four panes:

- **Top-left**: Script editor
- **Bottom-left**: Console and Terminal
  - The **Console** is where you type and run R code interactively.
  - The **Terminal** provides access to a Unix shell, useful for running system commands (e.g., Git, file management).
  - The **Background Jobs** tab (when visible) lets you launch long-running scripts without blocking the console. You can track progress and logs independently.


> 🧩 These tabs are modular: you can show or hide panes using the **menu bar** → `View > Panes` or via the small gear icons in the top-right of each panel.

- **Top-right**: Environment, History, Git, Connections, Build, Tutorial
  - The **Environment** tab lists all current objects (datasets, models, functions).
  - **History** tracks all commands you've run.
  - **Git** appears if the project is under version control.
  - **Build** is used for R packages or Quarto/Bookdown projects.
  - **Tutorial** can show RStudio tutorials if available.

- **Bottom-right**: Files, Plots, Packages, Help, and Viewer
  - This pane lets you navigate directories, visualize plots, install/view packages, access help pages, and render HTML outputs.

To explore the technical setup of your session, run the following lines of code in the R console:

### Verifying the Technical Environment

#### Check R Version
```{r}
R.version.string
```

#### Check RStudio Version
```{r, eval=FALSE}

rstudioapi::versionInfo()

```

This returns information such as:

- `version`: RStudio version installed (e.g., `2023.3.0.386`)
- `release_name`: Code name for the release (e.g., `Cherry Blossom`)
- `mode`: Whether you're on the server version

#### System Information
```{r}

Sys.info()

```

You’ll see OS-level details such as:

- `sysname`: Operating system
- `release`: Kernel version
- `machine`: Architecture (usually `x86_64`)
- `user`: Your current user session (likely `jovyan`)

#### RAM Availability (in GB)

```{r, results='asis'}
# Note: this uses system-level shell command
system("free -g")
```

This command shows approximate memory allocation:

- `total`: Total memory available (e.g., 125 GB)
- `used` and `available`: What’s currently in use or free

> ⚠️ **Note**: The number you see in "available" RAM may be lower (e.g., 32 GB) due to container quotas or dynamic allocation. The full infrastructure may have more memory, but your session may be limited based on demand and environment.
> 
> 📊 To get a user-friendly view of the actual allocated RAM, go to the **top-right Environment panel** in RStudio and click **"Memory usage report"**. This tool gives you a live snapshot of RAM used by your session.

#### List of Installed Packages

```{r}

installed.packages()[1:20, c("Package", "Version")]

```

This shows the first 20 installed packages and their versions. You can increase the number for a full list.

#### Load a Test Package (optional)
```{r}
# Try loading a utility package
require(antiword)
```

If successful, this confirms that the package and its dependencies are correctly installed.

---

### Notes

- All environments and package lists may evolve over time.
- The VLab infrastructure will be updated regularly to keep compatibility with the course materials.
- You can always re-run this notebook to verify your session.

---
